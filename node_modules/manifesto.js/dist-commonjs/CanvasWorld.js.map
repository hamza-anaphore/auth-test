{"version":3,"file":"CanvasWorld.js","sourceRoot":"","sources":["../src/CanvasWorld.ts"],"names":[],"mappings":"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"}